<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>–í–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∏ - LizaApp</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div class="app-header">
        <div class="logo">
            <i class="fas fa-phone"></i> LizaApp
        </div>
        <div class="user-info" id="headerUserInfo" style="display: none;">
            <div class="user-avatar" id="userAvatar">U</div>
            <span id="currentUserId"></span>
            <button class="logout-btn" onclick="resetUser()">–í—ã–π—Ç–∏</button>
        </div>
    </div>

    <div class="container main-container">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="sidebar left-sidebar">
            <div class="tabs navigation-tabs">
                <div class="tab active" onclick="switchTab('friends')"><i class="fas fa-users"></i> –î—Ä—É–∑—å—è</div>
                <div class="tab" onclick="switchTab('requests')"><i class="fas fa-inbox"></i> –ó–∞–ø—Ä–æ—Å—ã</div>
                <div class="tab" onclick="switchTab('invitations')"><i class="fas fa-paper-plane"></i> –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</div>
            </div>
            <div class="tab-content sidebar-content">
                <!-- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                <div class="search-section user-search">
                    <h3><i class="fas fa-search"></i> –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
                    <input type="text" id="searchUsername" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" style="width: 300px;">
                    <button onclick="searchUser()" class="btn-primary mobile-search-btn">üîç –ù–∞–π—Ç–∏</button>
                    <div id="searchResults"></div>
                </div>
                
                <!-- –¢–∞–± –î—Ä—É–∑—å—è -->
                <div id="friendsTab" class="tab-panel friends-panel">
                    <h3>–ú–æ–∏ –¥—Ä—É–∑—å—è</h3>
                    <div id="friendsList" class="friends-list"></div>
                </div>
                
                <!-- –¢–∞–± –ó–∞–ø—Ä–æ—Å—ã -->
                <div id="requestsTab" class="tab-panel requests-panel" style="display: none;">
                    <h3>–í—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã</h3>
                    <div id="requestsList" class="requests-list"></div>
                </div>
                
                <!-- –¢–∞–± –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è -->
                <div id="invitationsTab" class="tab-panel invitations-panel" style="display: none;">
                    <h3>–ò—Å—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã</h3>
                    <div id="sentRequestsList" class="sent-requests-list"></div>
                </div>
            </div>
        </div>
            
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="main-content right-content">
            <div class="titlemain">
            <h1><i class="fas fa-phone"></i> –í–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∏ LizaApp</h1>
            <p><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong> –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ —Å–≤–æ–∏–º –ª–æ–≥–∏–Ω–æ–º –∏ –ø–æ–∑–≤–æ–Ω–∏—Ç–µ –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –í—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å —ç—Ç—É –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.</p>
            <button onclick="window.open('https://lizaapp.wg01.ru/register.php', '_blank')" style="background: #4CAF50; color: white; padding: 10px 20px; margin: 10px 0; border: none; border-radius: 5px; cursor: pointer;">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
        </div>
        <div class="user-section profile-section user-profile">
            <h2>üë§ –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å</h2>
            <div id="loginSection" class="login-form">
                <input type="text" id="userId" value="" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ª–æ–≥–∏–Ω">
                <input type="password" id="userPassword" value="" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" style="display: none;">
                <button onclick="showPasswordField(event)">–í–æ–π—Ç–∏</button>
                </div>
            
            <div id="userInfo" class="user-info-panel" style="display: none;">
                <div id="userStatus" class="status disconnected">–û—Ç–∫–ª—é—á–µ–Ω</div>
                <p><strong>–õ–æ–≥–∏–Ω:</strong> <span id="profileCurrentUserId"></span></p>
                <input type="text" id="targetUserId" value="" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞" class="old-functionality">
                <button onclick="startCall()" id="startCallBtn" disabled style="background: #4CAF50; color: white; display: none;" class="old-functionality"><i class="fas fa-phone"></i> –ü–æ–∑–≤–æ–Ω–∏—Ç—å</button>
                <button onclick="disconnectCall()" id="disconnectBtn" disabled style="background: #f44336; color: white; display: none;" class="old-functionality">üîå –†–∞–∑–æ—Ä–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</button>
                <button onclick="resetUser()" style="background: #ff9800; color: white; display: none;"><i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏</button>
                </div>
        
            <!-- –û–∫–Ω–æ –≤–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∞ –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ -->
            <div id="videoCallContainer" class="video-call-container" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 1000;">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                <div style="background: #2c3e50; color: white; padding: 20px; border-radius: 0;">
                    <h3 style="margin: 0; font-size: 24px; font-weight: 600;"><i class="fas fa-video"></i> –í–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫</h3>
                    <p style="margin: 5px 0 0 0; opacity: 0.9; font-size: 14px;">–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</p>
                </div>
                
                <!-- –û–±–ª–∞—Å—Ç—å –≤–∏–¥–µ–æ -->
                <div style="flex: 1; padding: 30px; display: flex; flex-direction: column; gap: 30px; justify-content: center; align-items: center; background: #f8f9fa; height: calc(100% - 140px);">
                    <!-- –í–∏–¥–µ–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
                    <div style="display: flex; gap: 30px; justify-content: center; align-items: center;">
                        <!-- –õ–æ–∫–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ -->
                        <div style="position: relative;">
                            <video id="localVideo" autoplay muted style="width: 400px; height: 400px; background: #000; border-radius: 10px; object-fit: cover; box-shadow: 0 4px 12px rgba(0,0,0,0.3);"></video>
                            <div style="position: absolute; bottom: 15px; left: 15px; background: #2c3e50; color: white; padding: 8px 15px; border-radius: 4px; font-size: 14px; font-weight: 500;">–í—ã</div>
                        </div>
                        
                        <!-- –£–¥–∞–ª–µ–Ω–Ω–æ–µ –≤–∏–¥–µ–æ -->
                        <div style="position: relative;">
                            <video id="remoteVideo" autoplay style="width: 400px; height: 400px; background: #000; border-radius: 10px; object-fit: cover; box-shadow: 0 4px 12px rgba(0,0,0,0.3);"></video>
                            <div style="position: absolute; bottom: 15px; left: 15px; background: #2c3e50; color: white; padding: 8px 15px; border-radius: 4px; font-size: 14px; font-weight: 500;">–°–æ–±–µ—Å–µ–¥–Ω–∏–∫</div>
                        </div>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–≤–æ–Ω–∫–æ–º -->
                    <div style="text-align: center; margin-top: 20px;">
                        <button onclick="switchCamera()" style="background: #6c757d; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 500; transition: all 0.2s; margin-right: 10px;"><i class="fas fa-sync-alt"></i></button>
                        <button onclick="endCall()" style="background: #e74c3c; color: white; border: none; padding: 15px 40px; border-radius: 4px; cursor: pointer; font-size: 16px; font-weight: 500; transition: all 0.2s;"><i class="fas fa-phone"></i></button>
                    </div>
                </div>
            </div>
            
            <!-- –û–∫–Ω–æ –∞—É–¥–∏–æ–∑–≤–æ–Ω–∫–∞ –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ -->
            <div id="audioCallContainer" class="audio-call-container" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 1000;">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                <div style="background: #2c3e50; color: white; padding: 20px; border-radius: 0;">
                    <h3 style="margin: 0; font-size: 24px; font-weight: 600;"><i class="fas fa-microphone"></i> –ê—É–¥–∏–æ–∑–≤–æ–Ω–æ–∫</h3>
                    <p style="margin: 5px 0 0 0; opacity: 0.9; font-size: 14px;">–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</p>
                </div>
                
                <!-- –û–±–ª–∞—Å—Ç—å –∞—É–¥–∏–æ -->
                <div style="flex: 1; padding: 30px; display: flex; flex-direction: column; gap: 30px; justify-content: center; align-items: center; background: #f8f9fa; height: calc(100% - 140px);">
                    <!-- –ê—É–¥–∏–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
                    <div style="display: flex; gap: 30px; justify-content: center; align-items: center;">
                        <!-- –õ–æ–∫–∞–ª—å–Ω–æ–µ –∞—É–¥–∏–æ -->
                        <div style="position: relative; width: 200px; height: 200px; background: linear-gradient(135deg, #3498db, #2980b9); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
                            <div style="color: white; font-size: 48px;">üé§</div>
                            <div style="position: absolute; bottom: 15px; left: 15px; background: #2c3e50; color: white; padding: 8px 15px; border-radius: 4px; font-size: 14px; font-weight: 500;">–í—ã</div>
                        </div>
                        
                        <!-- –£–¥–∞–ª–µ–Ω–Ω–æ–µ –∞—É–¥–∏–æ -->
                        <div style="position: relative; width: 200px; height: 200px; background: linear-gradient(135deg, #e74c3c, #c0392b); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
                            <div style="color: white; font-size: 48px;">üîä</div>
                            <div style="position: absolute; bottom: 15px; left: 15px; background: #2c3e50; color: white; padding: 8px 15px; border-radius: 4px; font-size: 14px; font-weight: 500;">–°–æ–±–µ—Å–µ–¥–Ω–∏–∫</div>
                        </div>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–≤–æ–Ω–∫–∞ -->
                    <div style="text-align: center; margin-top: 20px;">
                        <button onclick="endCall()" style="background: #e74c3c; color: white; border: none; padding: 15px 40px; border-radius: 4px; cursor: pointer; font-size: 16px; font-weight: 500; transition: all 0.2s;"><i class="fas fa-phone"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–≤–æ–Ω–æ–∫</button>
                    </div>
                </div>
            </div>
            
            <!-- –û–∫–Ω–æ —á–∞—Ç–∞ –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ -->
            <div id="chatContainer" class="chat-container" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 1000;">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞ -->
                <div style="background: #2c3e50; color: white; padding: 20px; border-radius: 0; display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h3 style="margin: 0; font-size: 24px; font-weight: 600;">üí¨ –ß–∞—Ç —Å <span id="chatFriendName">–î—Ä—É–≥–æ–º</span></h3>
                        <p style="margin: 5px 0 0 0; opacity: 0.9; font-size: 14px;">–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</p>
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <button onclick="callFriendFromChat()" class="btn-primary btn-small" id="chatCallBtn" style="padding: 8px 12px; font-size: 12px;"><i class="fas fa-video"></i></button>
                        <button onclick="callFriendAudioFromChat()" class="btn-secondary btn-small" id="chatAudioCallBtn" style="padding: 8px 12px; font-size: 12px;"><i class="fas fa-phone"></i></button>
                        <button onclick="closeChat()" style="background: #e74c3c; color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer; font-size: 16px; font-weight: bold;">‚úï</button>
                    </div>
                </div>
                
                <!-- –û–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π -->
                <div style="flex: 1; padding: 5px; display: flex; flex-direction: column; background: #f8f9fa; height: calc(100% - 140px);">
                    <!-- –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è -->
                    <div id="chatStatus" style="padding: 10px 20px; background: #fff3cd; color: #856404; border-bottom: 1px solid #ffeaa7; font-size: 14px;">
                        –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —á–∞—Ç-—Å–µ—Ä–≤–µ—Ä—É...
                    </div>
                    
                    <!-- –°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞ -->
                    <div id="chatMessages" style="flex: 1; padding: 15px; overflow-y: auto; background: #f9f9f9; border-radius: 8px; margin: 10px 0;">
                        <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π -->
                    <button id="deleteSelectedMessages" class="delete-button" onclick="deleteSelectedMessages()" title="–£–¥–∞–ª–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è">
                        üóëÔ∏è
                    </button>
                    
                    <!-- –ü–∞–Ω–µ–ª—å —ç–º–æ–¥–∑–∏ -->
                    <div id="chatEmojiPanel" style="display: none; padding: 10px; background: #e3f2fd; border-top: 1px solid #ddd; border-radius: 8px 8px 0 0;">
                        <div style="display: grid; grid-template-columns: repeat(10, 1fr); gap: 8px; max-height: 200px; overflow-y: auto;">
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üòÄ')">üòÄ</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üòÇ')">üòÇ</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üòç')">üòç</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('ü§î')">ü§î</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üëç')">üëç</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üëé')">üëé</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('‚ù§Ô∏è')">‚ù§Ô∏è</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üéâ')">üéâ</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üî•')">üî•</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üíØ')">üíØ</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üöÄ')">üöÄ</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('‚≠ê')">‚≠ê</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üòé')">üòé</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('ü§ó')">ü§ó</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üò¢')">üò¢</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üò°')">üò°</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üò¥')">üò¥</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('ü§Ø')">ü§Ø</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üëè')">üëè</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üôå')">üôå</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('ü§ù')">ü§ù</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('‚úåÔ∏è')">‚úåÔ∏è</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('ü§û')">ü§û</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('ü§ò')">ü§ò</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üëå')">üëå</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('ü§è')">ü§è</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üíï')">üíï</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üíñ')">üíñ</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üíó')">üíó</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üíò')">üíò</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üíù')">üíù</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üíû')">üíû</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üíü')">üíü</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üíã')">üíã</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üíå')">üíå</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üéä')">üéä</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üéà')">üéà</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üéÅ')">üéÅ</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üéÇ')">üéÇ</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üç∞')">üç∞</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('ü•≥')">ü•≥</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üéÜ')">üéÜ</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üéá')">üéá</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('‚ú®')">‚ú®</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üåü')">üåü</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üí´')">üí´</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('‚ö°')">‚ö°</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üíé')">üíé</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üéØ')">üéØ</span>
                            <span style="padding: 5px; cursor: pointer; border-radius: 5px; text-align: center; font-size: 18px;" onclick="sendChatEmoji('üèÜ')">üèÜ</span>
                        </div>
                    </div>
                    
                    <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è -->
                    <div style="display: flex; padding: 5px; background: white; border-top: 1px solid #ddd; border-radius: 0 0 8px 8px;">
                        <input type="text" id="chatMessageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ... (—ç–º–æ–¥–∑–∏ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç)" style="flex: 1; padding: 12px 16px; border: 1px solid #ddd; border-radius: 20px; outline: none; font-size: 14px;" onkeypress="handleChatKeyPress(event)">
                        <button onclick="sendChatMessage()" style="background: #4CAF50; color: white; border: none; padding: 12px 20px; border-radius: 20px; margin-left: 10px; cursor: pointer; font-size: 14px;"><i class="fas fa-paper-plane"></i></button>
                        <button onclick="toggleChatEmojiPanel()" style="background: #2196F3; color: white; border: none; padding: 12px 15px; border-radius: 20px; margin-left: 10px; cursor: pointer; font-size: 14px;"><i class="far fa-smile"></i></button>
                    </div>
                </div>
            </div>
            
            <div id="log" class="log"></div>
        </div>
        
        <!-- –û–∫–Ω–æ –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞ -->
        <div id="incomingCallModal" class="incoming-call-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9998; justify-content: center; align-items: center;">
            <div style="background: white; padding: 30px; border-radius: 15px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
                <h2 style="color: #333; margin-bottom: 20px;"><i class="fas fa-phone"></i> –í—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫</h2>
                <p style="font-size: 18px; margin-bottom: 30px;">–í–∞–º –∑–≤–æ–Ω–∏—Ç: <strong id="callerName"></strong></p>
                <div style="display: flex; gap: 20px; justify-content: center;">
                    <button onclick="acceptIncomingCall()" style="background: #4CAF50; color: white; border: none; padding: 15px 30px; border-radius: 8px; font-size: 16px; cursor: pointer;"><i class="fas fa-check"></i> –ü—Ä–∏–Ω—è—Ç—å</button>
                    <button onclick="rejectIncomingCall()" style="background: #f44336; color: white; border: none; padding: 15px 30px; border-radius: 8px; font-size: 16px; cursor: pointer;"><i class="fas fa-times"></i> –û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- –û–∫–Ω–æ —á–∞—Ç–∞ -->
        <div id="chatModal" class="chat-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1001; justify-content: center; align-items: center;">
            <div style="background: white; width: 400px; height: 500px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); display: flex; flex-direction: column;">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞ -->
                <div style="background: #2196F3; color: white; padding: 15px; border-radius: 15px 15px 0 0; display: flex; justify-content: space-between; align-items: center;">
                    <h3 style="margin: 0;">üí¨ –ß–∞—Ç —Å <span id="chatFriendName"></span></h3>
                    <button onclick="closeChat()" style="background: none; border: none; color: white; font-size: 20px; cursor: pointer;">‚úï</button>
            </div>
            
                <!-- –û–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π -->
                <div id="chatMessages" style="flex: 1; padding: 15px; overflow-y: auto; background: #f9f9f9;">
                    <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
        </div>
        
                <!-- –ü–∞–Ω–µ–ª—å —ç–º–æ–¥–∑–∏ -->
                <div id="emojiPanel" style="display: none; padding: 10px; background: #e3f2fd; border-top: 1px solid #ddd;">
                    <div style="display: flex; flex-wrap: wrap; gap: 5px;">
                        <span onclick="sendChatEmoji('üòÄ')" style="cursor: pointer; font-size: 20px;">üòÄ</span>
                        <span onclick="sendChatEmoji('üòÇ')" style="cursor: pointer; font-size: 20px;">üòÇ</span>
                        <span onclick="sendChatEmoji('üòç')" style="cursor: pointer; font-size: 20px;">üòç</span>
                        <span onclick="sendChatEmoji('ü§î')" style="cursor: pointer; font-size: 20px;">ü§î</span>
                        <span onclick="sendChatEmoji('üëç')" style="cursor: pointer; font-size: 20px;">üëç</span>
                        <span onclick="sendChatEmoji('üëé')" style="cursor: pointer; font-size: 20px;">üëé</span>
                        <span onclick="sendChatEmoji('‚ù§Ô∏è')" style="cursor: pointer; font-size: 20px;">‚ù§Ô∏è</span>
                        <span onclick="sendChatEmoji('üéâ')" style="cursor: pointer; font-size: 20px;">üéâ</span>
                    </div>
                </div>
                
                <!-- –ü–∞–Ω–µ–ª—å –≤–≤–æ–¥–∞ -->
                <div style="padding: 15px; border-top: 1px solid #ddd; background: white; border-radius: 0 0 15px 15px;">
                    <div style="display: flex; gap: 10px;">
                        <button onclick="toggleEmojiPanel()" style="background: #ff9800; color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer;">üòÄ</button>
                        <input type="text" id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 5px;" onkeypress="handleMessageKeyPress(event)">
                        <button onclick="sendMessage()" style="background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </div>
                </div>
            </div>
        </div>
            
        <!-- –°–∏—Å—Ç–µ–º–∞ –¥—Ä—É–∑–µ–π -->
        <div class="user-section friends-section friends-management" id="friendsSection">
            <h2><i class="fas fa-users"></i> –°–∏—Å—Ç–µ–º–∞ –¥—Ä—É–∑–µ–π</h2>
            
            <!-- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
            <div class="search-section">
                <h3><i class="fas fa-search"></i> –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
                <input type="text" id="searchUsername" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" style="width: 300px;">
                <button onclick="searchUser()" class="btn-primary">üîç –ù–∞–π—Ç–∏</button>
                <div id="searchResults" class="search-results"></div>
        </div>
            
            <!-- –°–ø–∏—Å–∫–∏ -->
            <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                <!-- –î—Ä—É–∑—å—è -->
                <div style="flex: 1; min-width: 250px;">
                    <h3><i class="fas fa-users"></i> –î—Ä—É–∑—å—è</h3>
                    <div id="friendsList" class="friends-list">
                        <p style="color: #666; text-align: center; margin: 20px 0;">–ù–µ—Ç –¥—Ä—É–∑–µ–π</p>
                </div>
        </div>
            
                <!-- –ó–∞–ø—Ä–æ—Å—ã –≤ –¥—Ä—É–∑—å—è -->
                <div style="flex: 1; min-width: 250px;">
                    <h3>üì® –ó–∞–ø—Ä–æ—Å—ã –≤ –¥—Ä—É–∑—å—è</h3>
                    <div id="requestsList" class="requests-list">
                        <p style="color: #666; text-align: center; margin: 20px 0;">–ù–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤</p>
                </div>
            </div>
            
                <!-- –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è -->
                <div style="flex: 1; min-width: 250px;">
                    <h3><i class="fas fa-paper-plane"></i> –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</h3>
                    <div id="sentRequestsList" class="sent-requests-list">
                        <p style="color: #666; text-align: center; margin: 20px 0;">–ù–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π</p>
                </div>
        </div>
        </div>
        
        <div class="user-section logs-section system-logs">
            <h2>üìã –õ–æ–≥–∏</h2>
            <button onclick="copyLogs()" style="background: #4CAF50; color: white; font-weight: bold;">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏</button>
            <p>–≠—Ç–∞ –∫–Ω–æ–ø–∫–∞ —Å–∫–æ–ø–∏—Ä—É–µ—Ç –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É</p>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö JavaScript —Ñ–∞–π–ª–æ–≤ -->
    <script src="del.js?v=1"></script>
    <script src="app.js?v=5"></script>
</body>
</html>
